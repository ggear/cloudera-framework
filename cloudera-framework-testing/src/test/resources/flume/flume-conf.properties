###############################################################################
#
# Flume config to test
#
###############################################################################

agent1.sources=source1
agent1.channels=channel1 channel2
agent1.sinks=sink1 sink2

agent1.sources.source1.type=seq
agent1.sources.source1.batchSize=1
agent1.sources.source1.interceptors=interceptor1
agent1.sources.source1.interceptors.interceptor1.type=org.apache.flume.interceptor.TimestampInterceptor$Builder
agent1.sources.source1.selector.type=replicating
agent1.sources.source1.channels=channel1 channel2

agent1.channels.channel1.type=memory
agent1.channels.channel1.capacity=10000
agent1.channels.channel1.transactionCapacity=1000
agent1.channels.channel1.keep-alive=1
agent1.channels.channel1.byteCapacityBufferPercentage=1

agent1.sinks.sink1.type=hdfs
agent1.sinks.sink1.hdfs.path=$HDFS_ROOT/tmp/flume-sink1
agent1.sinks.sink1.hdfs.filePrefix=%{timestamp}
agent1.sinks.sink1.hdfs.fileSuffix=.txt
agent1.sinks.sink1.hdfs.inUsePrefix=_
agent1.sinks.sink1.hdfs.rollCount=0
agent1.sinks.sink1.hdfs.rollInterval=0
agent1.sinks.sink1.hdfs.rollSize=0
agent1.sinks.sink1.hdfs.idleTimeout=1
agent1.sinks.sink1.hdfs.batchSize=1
agent1.sinks.sink1.hdfs.writeFormat=Text
agent1.sinks.sink1.hdfs.fileType=DataStream
agent1.sinks.sink1.channel=channel1

agent1.channels.channel2.type=memory
agent1.channels.channel2.capacity=10000
agent1.channels.channel2.transactionCapacity=1000
agent1.channels.channel2.keep-alive=1
agent1.channels.channel2.byteCapacityBufferPercentage=1

agent1.sinks.sink2.type=hdfs
agent1.sinks.sink2.hdfs.path=$HDFS_ROOT/tmp/flume-sink2
agent1.sinks.sink2.hdfs.filePrefix=%{timestamp}
agent1.sinks.sink2.hdfs.fileSuffix=.txt
agent1.sinks.sink2.hdfs.inUsePrefix=_
agent1.sinks.sink2.hdfs.rollCount=0
agent1.sinks.sink2.hdfs.rollInterval=0
agent1.sinks.sink2.hdfs.rollSize=0
agent1.sinks.sink2.hdfs.idleTimeout=1
agent1.sinks.sink2.hdfs.batchSize=1
agent1.sinks.sink2.hdfs.writeFormat=Text
agent1.sinks.sink2.hdfs.fileType=DataStream
agent1.sinks.sink2.channel=channel2
